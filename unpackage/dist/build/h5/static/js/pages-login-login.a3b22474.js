(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-login-login"],{"2e59":function(e,t,i){"use strict";var a=i("288e");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(i("5176")),o=i("8090"),s={data:function(){return{registeMobile:"",nickName:"",verifyNum:"",password:"",codetxt:"验证码",num:60,timer:null,isMobileAvailabled:!1,isCheckmobile:!1,isChecknickName:!1,isNickNameAvailabled:!1,TabCur:0}},components:{},computed:{isAble:function(){return this.isMobileAvailabled&&(this.verifyNum||this.password)}},methods:{changeMobile:function(e){this.registeMobile!=e.detail.value&&(this.registeMobile=e.detail.value,(0,o.regPhone)(this.registeMobile)&&this.checkmobile())},changeCode:function(e){this.verifyNum=e.detail.value},getcode:function(){var e=this;if(this.num<60)return!1;(0,o.regPhone)(this.registeMobile)?(e.codetxt=this.num+"s",this.timer=setInterval(function(){1==e.num?(clearInterval(e.timer),e.timer=null,e.codetxt="验证码",e.num=60):(e.num--,e.codetxt=e.num+"s")},1e3),this.$getajax(this.$api.getcode,{mobile:this.registeMobile,codetype:"login"}).then(function(e){uni.showToast({title:e.message,icon:"none"})})):uni.showToast({title:"请输入正确的手机号码",icon:"none"})},submitLogin:function(){if(this.isAble){var e={};e=0==this.TabCur?{password:this.password,operation:"password"}:{verifyNum:this.verifyNum,operation:"verifynum"},this.$postajax(this.$api.login,(0,n.default)({},e,{registeMobile:this.registeMobile})).then(function(e){1e4==e.code?(uni.setStorageSync("userInfo",e.userInfo),uni.setStorageSync("token",e.userInfo.token),setTimeout(function(){uni.switchTab({url:"/pages/index/index"})},500)):uni.showToast({title:e.message,icon:"none"})})}},checkmobile:function(){var e=this;this.isCheckmobile=!0,this.$getajax(this.$api.isLoginAvailabled,{mobile:this.registeMobile}).then(function(t){1e4==t.code?e.isMobileAvailabled=!0:e.isMobileAvailabled=!1}).catch(function(){e.isMobileAvailabled=!1}).finally(function(){e.isCheckmobile=!1})},checknickName:function(e){this.nickName!=e.detail.value&&(this.nickName=e.detail.value,this.nickName?this.isNickNameAvailabled=!0:this.isNickNameAvailabled=!1)},tabSelect:function(e){this.TabCur=e.currentTarget.dataset.id}}};t.default=s},6845:function(e,t,i){"use strict";i.r(t);var a=i("2e59"),n=i.n(a);for(var o in a)"default"!==o&&function(e){i.d(t,e,function(){return a[e]})}(o);t["default"]=n.a},"7c12":function(e,t,i){"use strict";i.r(t);var a=i("9156"),n=i("6845");for(var o in n)"default"!==o&&function(e){i.d(t,e,function(){return n[e]})}(o);i("f5a8");var s=i("2877"),c=Object(s["a"])(n["default"],a["a"],a["b"],!1,null,"1c7f3ec2",null);t["default"]=c.exports},9156:function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{staticClass:"flex flex-direction pageview bg-white"},[i("v-uni-scroll-view",{staticClass:"bg-white nav text-center margin-top",attrs:{"scroll-x":""}},e._l(2,function(t,a){return i("v-uni-view",{key:a,staticClass:"cu-item",class:a==e.TabCur?"text-orange cur":"",attrs:{"data-id":a},on:{click:function(t){t=e.$handleEvent(t),e.tabSelect(t)}}},[e._v(e._s(0==a?"密码登录":"快捷登录"))])}),1),i("v-uni-form",{staticClass:"margin-top"},[i("v-uni-view",{staticClass:"cu-form-group"},[i("v-uni-view",{staticClass:"title"},[e._v("手机号码")]),i("v-uni-input",{attrs:{placeholder:"输入框带标签",name:"input"},on:{blur:function(t){t=e.$handleEvent(t),e.changeMobile(t)}}}),e.isCheckmobile?i("v-uni-image",{staticClass:"loading text-orange",attrs:{src:"#",mode:"widthFix"}}):e._e()],1),1==e.TabCur?i("v-uni-view",{staticClass:"cu-form-group"},[i("v-uni-view",{staticClass:"title"},[e._v("验证码")]),i("v-uni-input",{attrs:{placeholder:"输入验证码",name:"input"},model:{value:e.verifyNum,callback:function(t){e.verifyNum=t},expression:"verifyNum"}}),i("v-uni-button",{staticClass:"getcode cu-btn shadow",class:{"bg-orange":e.isMobileAvailabled&&!e.timer},on:{click:function(t){t=e.$handleEvent(t),e.getcode(t)}}},[e._v(e._s(e.codetxt))])],1):e._e(),0==e.TabCur?i("v-uni-view",{staticClass:"cu-form-group solid-bottom"},[i("v-uni-view",{staticClass:"title"},[e._v("密码")]),i("v-uni-input",{attrs:{placeholder:"5~20位英文、数字或符号，区分大小写",name:"input",type:"password"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1):e._e()],1),i("v-uni-view",{staticClass:"margin-top-lg submitBtn cu-btn shadow",class:{"bg-orange":e.isAble},on:{click:function(t){t=e.$handleEvent(t),e.submitLogin(t)}}},[e._v("登录")]),i("v-uni-view",{staticClass:"margin-lg flex justify-between"},[i("v-uni-navigator",{staticClass:"text-orange",attrs:{url:"/pages/reg/reg"}},[e._v("去注册>")]),i("v-uni-navigator",{staticClass:"text-orange",attrs:{url:"/pages/login/login"}},[e._v("忘记密码>")])],1),i("v-uni-view",{staticClass:"otherway"},[i("v-uni-view",{staticClass:"title flex align-center"},[i("v-uni-view",{staticClass:"line flex-sub"}),i("v-uni-view",[e._v("第三方账号登录")]),i("v-uni-view",{staticClass:"line flex-sub"})],1),i("v-uni-button",{staticClass:"wechat",attrs:{"hover-class":"btn-hover","open-type":"getPhoneNumber",withCredentials:"true",lang:"zh_CN"},on:{getphonenumber:function(t){t=e.$handleEvent(t),e.wxGetPhoneNumber(t)}}},[i("v-uni-image",{attrs:{src:"../../static/wechat.png",mode:"widthFix"}}),i("v-uni-view",[e._v("微信登录")])],1)],1)],1)},n=[];i.d(t,"a",function(){return a}),i.d(t,"b",function(){return n})},c73a:function(e,t,i){t=e.exports=i("2350")(!1),t.push([e.i,".pageview[data-v-1c7f3ec2],uni-page-body[data-v-1c7f3ec2]{height:100%;width:100%}.group[data-v-1c7f3ec2]{margin:0 %?30?%;font-size:%?26?%}.group .row[data-v-1c7f3ec2]{border-bottom:1px solid #e5e5e5;margin:0 %?15?%;padding:%?25?% %?20?%}.group .row .getcode[data-v-1c7f3ec2]{color:#fff;width:%?165?%;height:%?60?%;line-height:%?60?%;text-align:center;border-radius:%?20?%;background-image:-webkit-gradient(linear,left top,right top,from(#fa9649),to(#fc713a));background-image:-o-linear-gradient(left,#fa9649,#fc713a);background-image:linear-gradient(90deg,#fa9649,#fc713a)}.otherway[data-v-1c7f3ec2]{text-align:center;font-size:%?26?%;position:absolute;bottom:20px;left:0;right:0;color:#878787}.otherway .title[data-v-1c7f3ec2]{margin:0 %?30?%;font-weight:700}.otherway .title .line[data-v-1c7f3ec2]{height:1px;background:#e5e5e5}.otherway .title>uni-view[data-v-1c7f3ec2]:nth-child(2){margin:0 %?30?%}.otherway .wechat[data-v-1c7f3ec2]{background:#fff;font-size:%?26?%;border:none}.otherway uni-image[data-v-1c7f3ec2]{display:block;margin:%?35?% auto %?25?%;width:%?116?%}.otherway uni-navigator[data-v-1c7f3ec2]{display:inline-block}.cu-form-group .title[data-v-1c7f3ec2]{min-width:calc(4em + 15px)}.getcode[data-v-1c7f3ec2]{width:%?165?%}.submitBtn[data-v-1c7f3ec2]{line-height:%?100?%;height:%?100?%;border-radius:%?16?%;font-size:%?32?%;display:block;margin-left:%?40?%;margin-right:%?40?%}.loading[data-v-1c7f3ec2]{height:20px;width:20px}",""])},f5a8:function(e,t,i){"use strict";var a=i("f61d"),n=i.n(a);n.a},f61d:function(e,t,i){var a=i("c73a");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var n=i("4f06").default;n("526d1f2c",a,!0,{sourceMap:!1,shadowMode:!1})}}]);