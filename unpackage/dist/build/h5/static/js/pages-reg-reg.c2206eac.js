(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-reg-reg"],{"07dc":function(i,t,e){var a=e("22cf");"string"===typeof a&&(a=[[i.i,a,""]]),a.locals&&(i.exports=a.locals);var n=e("4f06").default;n("b3fc08c2",a,!0,{sourceMap:!1,shadowMode:!1})},"22cf":function(i,t,e){t=i.exports=e("2350")(!1),t.push([i.i,".pageview[data-v-447f4baa],uni-page-body[data-v-447f4baa]{height:100%;width:100%}.group[data-v-447f4baa]{margin:0 %?30?%;font-size:%?26?%}.group .row[data-v-447f4baa]{border-bottom:1px solid #e5e5e5;margin:0 %?15?%;padding:%?25?% %?20?%}.otherway[data-v-447f4baa]{text-align:center;font-size:%?26?%;color:#878787}.otherway .title[data-v-447f4baa]{margin:0 %?30?%;font-weight:700}.otherway .title .line[data-v-447f4baa]{height:1px;background:#e5e5e5}.otherway .title>uni-view[data-v-447f4baa]:nth-child(2){margin:0 %?30?%}.otherway .wechat[data-v-447f4baa]{background:#fff;font-size:%?26?%}.otherway uni-image[data-v-447f4baa]{display:block;margin:%?35?% auto %?25?%;width:%?116?%}.otherway uni-navigator[data-v-447f4baa]{display:inline-block}.cu-form-group .title[data-v-447f4baa]{min-width:calc(4em + 15px)}.getcode[data-v-447f4baa]{width:%?200?%}.submitBtn[data-v-447f4baa]{line-height:%?100?%;height:%?100?%;border-radius:%?16?%;font-size:%?32?%;display:block;margin-left:%?40?%;margin-right:%?40?%}.loading[data-v-447f4baa]{height:20px;width:20px}",""])},"3c6f":function(i,t,e){"use strict";var a=e("07dc"),n=e.n(a);n.a},"6f57":function(i,t,e){"use strict";e.r(t);var a=e("7317"),n=e("a9f4");for(var s in n)"default"!==s&&function(i){e.d(t,i,function(){return n[i]})}(s);e("3c6f");var o=e("2877"),l=Object(o["a"])(n["default"],a["a"],a["b"],!1,null,"447f4baa",null);t["default"]=l.exports},7317:function(i,t,e){"use strict";var a=function(){var i=this,t=i.$createElement,e=i._self._c||t;return e("v-uni-view",{staticClass:"flex flex-direction bg-white pageview"},[e("cu-custom",{attrs:{isHome:!0}},[e("v-uni-view",{attrs:{slot:"content"},slot:"content"},[i._v("注册")])],1),e("v-uni-form",[e("v-uni-view",{staticClass:"cu-form-group margin-top"},[e("v-uni-view",{staticClass:"title"},[i._v("昵称")]),e("v-uni-input",{attrs:{placeholder:"请输入昵称",name:"input"},on:{blur:function(t){t=i.$handleEvent(t),i.checknickName(t)}},model:{value:i.nickName,callback:function(t){i.nickName=t},expression:"nickName"}}),i.isChecknickName?e("v-uni-image",{staticClass:"loading text-orange",attrs:{src:"#",mode:"widthFix"}}):i._e()],1),e("v-uni-view",{staticClass:"cu-form-group"},[e("v-uni-view",{staticClass:"title"},[i._v("手机号码")]),e("v-uni-input",{attrs:{placeholder:"填写你常用的手机号作为登录账号",name:"input"},on:{blur:function(t){t=i.$handleEvent(t),i.changeMobile(t)}}}),i.isCheckmobile?e("v-uni-image",{staticClass:"loading text-orange",attrs:{src:"#",mode:"widthFix"}}):i._e()],1),e("v-uni-view",{staticClass:"cu-form-group"},[e("v-uni-view",{staticClass:"title"},[i._v("验证码")]),e("v-uni-input",{attrs:{placeholder:"输入验证码",name:"input"},model:{value:i.verifyNum,callback:function(t){i.verifyNum=t},expression:"verifyNum"}}),e("v-uni-button",{staticClass:"getcode cu-btn shadow",class:{"bg-orange":i.isMobileAvailabled&&!i.timer},on:{click:function(t){t=i.$handleEvent(t),i.getcode(t)}}},[i._v(i._s(i.codetxt))])],1),e("v-uni-view",{staticClass:"cu-form-group solid-bottom"},[e("v-uni-view",{staticClass:"title"},[i._v("密码")]),e("v-uni-input",{attrs:{placeholder:"5~20位英文、数字或符号，区分大小写",name:"input",type:"password"},model:{value:i.password,callback:function(t){i.password=t},expression:"password"}})],1)],1),e("v-uni-view",{staticClass:"margin-top-lg submitBtn cu-btn shadow",class:{"bg-orange":i.isAble},on:{click:function(t){t=i.$handleEvent(t),i.submitLogin(t)}}},[i._v("注册")]),e("v-uni-view",{staticClass:"margin-lg"},[e("v-uni-navigator",{staticClass:"text-orange",attrs:{url:"/pages/login/login","hover-class":"none"}},[e("v-uni-text",{staticClass:"text-grey"},[i._v("已有账号，")]),e("v-uni-text",[i._v("去登录")]),e("v-uni-text",{staticClass:"cuIcon-right"})],1)],1)],1)},n=[];e.d(t,"a",function(){return a}),e.d(t,"b",function(){return n})},a9f4:function(i,t,e){"use strict";e.r(t);var a=e("b11a"),n=e.n(a);for(var s in a)"default"!==s&&function(i){e.d(t,i,function(){return a[i]})}(s);t["default"]=n.a},b11a:function(i,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=e("5335"),n={data:function(){return{registeMobile:"",nickName:"",verifyNum:"",password:"",codetxt:"获取验证码",num:60,timer:null,isMobileAvailabled:!1,isCheckmobile:!1,isChecknickName:!1,isNickNameAvailabled:!1}},components:{},computed:{isAble:function(){return this.isMobileAvailabled&&this.verifyNum&&this.isNickNameAvailabled&&this.password}},destroyed:function(){this.timer&&(clearInterval(this.timer),this.timer=null),this.codetxt="获取验证码",this.num=60},methods:{changeMobile:function(i){this.registeMobile!=i.detail.value&&(this.registeMobile=i.detail.value,console.log(this.registeMobile),(0,a.regPhone)(this.registeMobile)?this.checkmobile():this.isMobileAvailabled=!1)},changeCode:function(i){this.verifyNum=i.detail.value},getcode:function(){var i=this;if(this.num<60)return!1;(0,a.regPhone)(this.registeMobile)?(i.codetxt=this.num+"s",this.timer=setInterval(function(){1==i.num?(clearInterval(i.timer),i.timer=null,i.codetxt="验证码",i.num=60):(i.num--,i.codetxt=i.num+"s")},1e3),this.$getajax(this.$api.getcode,{mobile:this.registeMobile,codetype:"sign"}).then(function(i){uni.showToast({title:i.message,icon:"none"})})):uni.showToast({title:"请输入正确的手机号码",icon:"none"})},submitLogin:function(){if(console.log(this.isAble),this.isAble){var i={registeMobile:this.registeMobile,verifyNum:this.verifyNum,password:this.password,nickName:this.nickName,operation:"password"};this.$postajax(this.$api.reg,i).then(function(i){1e4==i.code?setTimeout(function(){uni.navigateTo({url:"/pages/login/login"})},500):uni.showToast({title:i.message,icon:"none"})})}},checkmobile:function(){var i=this;this.isCheckmobile=!0,this.$getajax(this.$api.isMobileAvailabled,{mobile:this.registeMobile}).then(function(t){1e4==t.code?i.isMobileAvailabled=!0:i.isMobileAvailabled=!1}).catch(function(){i.isMobileAvailabled=!1}).finally(function(){i.isCheckmobile=!1})},checknickName:function(){var i=this;this.isChecknickName=!0,this.$getajax(this.$api.isNickNameAvailabled,{nickName:this.nickName}).then(function(t){1e4==t.code?i.isNickNameAvailabled=!0:i.isNickNameAvailabled=!1}).catch(function(){i.isNickNameAvailabled=!1}).finally(function(){i.isChecknickName=!1})}}};t.default=n}}]);